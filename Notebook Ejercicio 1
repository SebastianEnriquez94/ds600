import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

allstate = pd.read_csv('/Users/juliocastillo/Desktop/IE/Tercer Semestre/Data Science/All State/allstate.csv')

datosCuantitativos = ['day','group_size','car_age','age_oldest','age_youngest','C_previous','duration_previous','A','B','C','D','E','F','G','cost']
datosCualitativos = ['customer_ID','shopping_pt','record_type','time','state','location','homeowner','car_value','risk_factor','married_couple']

# Pregunta 1 ¿Qué características tienen los grupos a los que se les cotiza los seguros más baratos?


allstate.info
allstate.cost.describe()

# Primer cuartil: 605
a = allstate[(allstate.cost<605)]
a.state.mode()
# Estado que más se repite es Florida

a.car_value.mode()
# El value que más se repite en los carros asegurados por debajo de  la media es E (menor valor).

a.risk_factor.mode()
#El factor de riesgo que más se repite es 1 (el menor).

sns.distplot(a.age_oldest)
sns.distplot(allstate.age_oldest)
a.age_oldest.describe()
a.age_oldest.mode()
#La edad que más se repite en los seguros más baratos por mucho es 75 años.

menores = a[(a.age_oldest<75)]
sns.distplot(menores.age_oldest)
menores.age_oldest.mode()
# De igual manera se repite que las personas mayores son más baratas de asegurar.

sns.distplot(a.group_size)
a.group_size.describe()
#comparar con toda la base de datos para ver si afecta el grupo.

b = allstate[(allstate.group_size > 1)]
b.cost.describe()
sns.distplot(b.cost)
c =allstate[(allstate.group_size > 2)]
c.cost.describe()
sns.distplot(c.cost)
#Se concluye que el tamaño del grupo no afecta signigicativamente el costo.

a.car_age.describe()
a.car_age.mode()
sns.distplot(a.car_age)
sns.distplot(allstate.car_age)
#Los carros más frecuentemente asegurados por debajo del costo medio están entre 8 y 12 años

a.homeowner.describe()
a.homeowner.mode()
#Es más común que las personas con un seguro barato sean dueños de casa.

#Conclusión: Viven frecuentemente en el estado de Florida, tienen un carro con valor E(bajo), su factor de riesgo es bajo (1), su edad es de 75 años frecuentemente, sus carros tienen entre 8 y 12 años de antiguedad y frecuentemente son dueños de casas.
